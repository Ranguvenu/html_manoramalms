{"version":3,"file":"reportdashboard.min.js","sources":["../src/reportdashboard.js"],"sourcesContent":["define(['core/ajax',\r\n        'core/templates',\r\n        'block_learnerscript/report',\r\n        'block_learnerscript/reportwidget',\r\n        'block_learnerscript/schedule',\r\n        'block_learnerscript/helper',\r\n        'block_learnerscript/ajax',\r\n        'block_learnerscript/select2',\r\n        'block_learnerscript/jquery.dataTables',\r\n        'block_learnerscript/radioslider',\r\n        'block_learnerscript/flatpickr',\r\n        'core/str',\r\n        'jquery',\r\n        'jqueryui',\r\n        'block_learnerscript/bootstrapnotify',\r\n        'block_reportdashboard/inplace_editable'\r\n    ],\r\n    function(Ajax, Templates, report, reportwidget, schedule, helper, ajax, select2, DataTable,RadiosToSlider,flatpickr, Str, $) {\r\n        return {\r\n            init: function() {\r\n                    $(document).ajaxStop(function() {\r\n                         $(\".loader\").fadeOut(\"slow\");\r\n                    });\r\n                    helper.Select2Ajax({});\r\n\r\n                    $(\".dashboardgoals\").change(function(){\r\n                        var goalid = $(this).val();\r\n                        $(\".report_goals\").val(goalid);\r\n                        var args = {};\r\n                        args.action = 'boardslist';\r\n                        args.goalid = goalid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardboards\").html(template);\r\n                            $(\"#dashboardboards\").val($(' #dashboardboards option:eq(0)').val());\r\n                            $(\"#dashboardboards\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardboards\").change(function(){\r\n                        var boardid = $(this).val();\r\n                        $(\".report_boards\").val(boardid);\r\n                        var args = {};\r\n                        args.action = 'classeslist';\r\n                        args.boardid = boardid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardclasses\").html(template);\r\n                            $(\"#dashboardclasses\").val($(' #dashboardclasses option:eq(0)').val());\r\n                            $(\"#dashboardclasses\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardclasses\").change(function(){\r\n                        var classid = $(this).val();\r\n                        $(\".report_classes\").val(classid);\r\n                        var args = {};\r\n                        args.action = 'subjectslist';\r\n                        args.classid = classid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardsubjects\").html(template);\r\n                            $(\"#dashboardsubjects\").val($(' #dashboardsubjects option:eq(0)').val());\r\n                            $(\"#dashboardsubjects\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardsubjects\").change(function(){\r\n                        var subjectid = $(this).val();\r\n                        $(\".report_subjects\").val(subjectid);\r\n                        var args = {};\r\n                        args.action = 'batcheslist';\r\n                        args.subjectid = subjectid;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#dashboardbatches\").html(template);\r\n                            $(\"#dashboardbatches\").val($(' #dashboardbatches option:eq(0)').val());\r\n                            $(\"#dashboardbatches\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n                    $(\".dashboardbatches\").change(function(){\r\n                        var batchid = $(this).val();\r\n                        $(\".report_batches\").val(batchid);\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'block_reportdashboard_studentsdetails_view',\r\n                             args: {\r\n                                batchid: batchid,\r\n                            },\r\n                        }]);\r\n                        promise[0].done(function(response) {\r\n                            var dashboardcourseid = response.courseid;\r\n                            $(\".report_courses\").val(dashboardcourseid);\r\n                            Templates.render('block_reportdashboard/coursestudentsinfo', response).done(function(html, js) {\r\n                                Templates.replaceNodeContents('#admindashboarddetails', html, js);\r\n                            });\r\n\r\n                            var args = {};\r\n                            args.action = 'chapterslist';\r\n                            args.courseid = dashboardcourseid;\r\n                            senddata = JSON.stringify(args);\r\n                            var promise = ajax.call({\r\n                                args:args,\r\n                                url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                            });\r\n                            promise.done(function(response) {\r\n                                var template = '';\r\n                                $.each(response, function(key, value) {\r\n                                    template += '<option value = ' + key + '>' + value + '</option>';\r\n                                });\r\n                                $(\"#id_filter_chapters\").html(template);\r\n                                $(\"#id_filter_chapters\").val($(' #id_filter_chapters option:eq(0)').val());\r\n                                $(\"#id_filter_chapters\").trigger('change');\r\n                            });\r\n                            $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                        });\r\n                    });\r\n                    $(document).on('change', '.studentcheckbox', function(){\r\n                        $('.student_data_table').addClass('d-none');\r\n                            $('.chapterwise_report_table').removeClass('d-none');\r\n                            $('.activitytabs').removeClass('d-none');\r\n                            $('.chapterwisecheckbox').addClass('d-flex');\r\n                            if($(this).prop(\"checked\") == true){\r\n                                $('.student_data_table').removeClass('d-none');\r\n                                $('.chapterwisecheckbox').removeClass('d-flex');\r\n                                $('.chapterwisecheckbox').addClass('d-none');\r\n                                $('.activitytabs').addClass('d-none');\r\n                                $('.chapterwise_report_table').addClass('d-none');\r\n\r\n                                $('input[name=\"chapterwisecheckbox\"]').prop('checked', false);\r\n\r\n                            } else {\r\n                                $('.student_data_table .studentwisechapters').removeClass('d-none');\r\n                                $('.chapterwise_report_table').addClass('d-none');\r\n                                var courseid = $( \"#courseid\" ).val();\r\n                                var promise = Ajax.call([{\r\n                                    methodname: 'block_reportdashboard_liveclassdetails',\r\n                                     args: {\r\n                                        courseid: courseid,\r\n                                    },\r\n                                }]);\r\n                                promise[0].done(function(response) {\r\n                                    var dashboardcourseid = response.courseid;\r\n                                    $(\".report_courses\").val(dashboardcourseid);\r\n                                    Templates.render('block_reportdashboard/liveclassdetails', response).done(function(html, js) {console.log(response);\r\n                                        Templates.replaceNodeContents('#liveclassdetailstab', html, js);\r\n                                    });\r\n                                });\r\n                            }\r\n                    });\r\n\r\n                    $(document).on('click', '.liveclasstab a', function(){\r\n                        var courseid = $( \".report_courses\" ).val();\r\n                        /*$('.liveclassdetails_report').removeClass('d-none');*/\r\n                        var promise = Ajax.call([{\r\n                                    methodname: 'block_reportdashboard_liveclassdetails',\r\n                                     args: {\r\n                                        courseid: courseid,\r\n                                    },\r\n                                }]);\r\n                            promise[0].done(function(response) {\r\n                                var dashboardcourseid = response.courseid;\r\n                                $(\".report_courses\").val(dashboardcourseid);\r\n                                Templates.render('block_reportdashboard/liveclassdetails', response).done(function(html, js) {console.log(response);\r\n                                    Templates.replaceNodeContents('#liveclassdetailstab', html, js);\r\n                                });\r\n                            });\r\n                    });\r\n\r\n                    $(document).on('click', '.readingtab a', function(){\r\n                        var courseid = $( \".report_courses\" ).val();\r\n                        /*$('.readingdetails_report').removeClass('d-none');*/\r\n                        var promise = Ajax.call([{\r\n                                    methodname: 'block_reportdashboard_readingdetails',\r\n                                     args: {\r\n                                        courseid: courseid,\r\n                                    },\r\n                                }]);\r\n                            promise[0].done(function(response) {\r\n                                var dashboardcourseid = response.courseid;\r\n                                $(\".report_courses\").val(dashboardcourseid);\r\n                                Templates.render('block_reportdashboard/readingdetails', response).done(function(html, js) {console.log(response);\r\n                                    Templates.replaceNodeContents('#readingdetailstab', html, js);\r\n                                });\r\n                            });\r\n                    });\r\n\r\n                    $(document).on('click', '.practicetesttab a', function(){\r\n                        var courseid = $( \".report_courses\" ).val();\r\n                        var promise = Ajax.call([{\r\n                                    methodname: 'block_reportdashboard_practicetestdetails',\r\n                                     args: {\r\n                                        courseid: courseid,\r\n                                    },\r\n                                }]);\r\n                            promise[0].done(function(response) {\r\n                                var dashboardcourseid = response.courseid;\r\n                                $(\".report_courses\").val(dashboardcourseid);\r\n                                Templates.render('block_reportdashboard/practicetestdetails', response).done(function(html, js) {console.log(response);\r\n                                    Templates.replaceNodeContents('#practicetestdetailstab', html, js);\r\n                                });\r\n                            });\r\n                    });\r\n\r\n                    $(document).on('click', '.testscoretab a', function(){\r\n                        var courseid = $( \".report_courses\" ).val();\r\n                        var promise = Ajax.call([{\r\n                                    methodname: 'block_reportdashboard_testscoredetails',\r\n                                     args: {\r\n                                        courseid: courseid,\r\n                                    },\r\n                                }]);\r\n                            promise[0].done(function(response) {\r\n                                var dashboardcourseid = response.courseid;\r\n                                $(\".report_courses\").val(dashboardcourseid);\r\n                                Templates.render('block_reportdashboard/testscoredetails', response).done(function(html, js) {console.log(response);\r\n                                    Templates.replaceNodeContents('#testscoredetailstab', html, js);\r\n                                });\r\n                            });\r\n                    });\r\n                    $(document).on('click', '.forumtab a', function(){\r\n                        var courseid = $( \".report_courses\" ).val();\r\n                        var promise = Ajax.call([{\r\n                                    methodname: 'block_reportdashboard_forumdetails',\r\n                                     args: {\r\n                                        courseid: courseid,\r\n                                    },\r\n                                }]);\r\n                            promise[0].done(function(response) {\r\n                                var dashboardcourseid = response.courseid;\r\n                                $(\".report_courses\").val(dashboardcourseid);\r\n                                Templates.render('block_reportdashboard/forumdetails', response).done(function(html, js) {console.log(response);\r\n                                    Templates.replaceNodeContents('#forumdetailstab', html, js);\r\n                                });\r\n                            });\r\n                    });\r\n\r\n                    $(\".dashboardcourses\").change(function(){\r\n                        var courseid = $(this).val();\r\n                        $(\".report_courses\").val(courseid);\r\n                        reportwidget.DashboardTiles();\r\n                        reportwidget.DashboardWidgets();\r\n                        $(\".viewmore\").each(function(){\r\n                            var ahref = $(this).attr('href');\r\n                        });\r\n                    });\r\n\r\n                    $( \"#createdashbaord_form\" ).submit(function( event ) {\r\n                        var dashboardname = $( \"#id_dashboard\" ).val();\r\n                        var name = dashboardname.trim();\r\n                        if(name == '' || name == null){\r\n                            $( \"#id_error_dashboard\" ).css('display', 'block');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                            event.preventDefault();\r\n                        }\r\n                        spaceexist = name.indexOf(\" \");\r\n                        if(spaceexist > 0 && spaceexist != ''){\r\n                            $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'block');\r\n                            event.preventDefault();\r\n                        }\r\n                    });\r\n\r\n                $.ui.dialog.prototype._focusTabbable = $.noop;\r\n                var DheaderPosition = $(\"#dashboard-header\").position();\r\n                $(\".sidenav\").offset({top: 0});\r\n                $(\"#internalbsm\").offset({top: DheaderPosition.top});\r\n                /**\r\n                * Select2 Options\r\n                */\r\n                $(\"select[data-select2='1']\").select2();\r\n                helper.Select2Ajax({\r\n                    action: 'reportlist',\r\n                    multiple: true\r\n                });\r\n               /**\r\n                * Filter area\r\n                */\r\n                $(document).on('click',\".filterform #id_filter_clear\",function(e) {\r\n                    $(this).parents('.mform').trigger(\"reset\");\r\n                    var activityelement = $(this).parents('.mform').find('#id_filter_activities');\r\n                    var instancelement = $(this).parents('.block_reportdashboard').find('.report_dashboard_container');\r\n                    var reportid = instancelement.data('reportid');\r\n                    var reporttype = instancelement.data('reporttype');\r\n                    var instanceid = instancelement.data('blockinstance');\r\n                    var userelement = $(this).parents('.mform').find('#id_filter_users');\r\n                    smartfilter.CourseActivities({ courseid: 0,element: activityelement });\r\n                    $(\".filterform select[data-select2-ajax='1']\").val('0').trigger('change');\r\n                    $('.filterform')[0].reset();\r\n                    $(\".filterform #id_filter_clear\").attr('disabled', 'disabled');\r\n                    reportwidget.CreateDashboardwidget({reportid: reportid, reporttype: reporttype, instanceid: instanceid});\r\n                });\r\n                $(document).on('change', \"select[name='filter_coursecategories']\", function(){\r\n                    var categoryid = this.value;\r\n                    var courseelement = $(this).closest('.mform').find('#id_filter_courses');\r\n                    if(courseelement.length != 0){\r\n                        smartfilter.categoryCourses({ categoryid: categoryid ,element: courseelement});\r\n                    }\r\n                });\r\n                $(document).on('change', \"select[name='filter_courses']\", function(){\r\n                    var courseid = this.value;\r\n                    var activityelement = $(this).closest('.mform').find('#id_filter_activities');\r\n                    var userelement = $(this).closest('.mform').find('#id_filter_users');\r\n                    if(activityelement.length != 0){\r\n                        smartfilter.CourseActivities({ courseid: courseid ,element: activityelement});\r\n                    }\r\n                });\r\n\r\n                /**\r\n                * Duration buttons\r\n                */\r\n                RadiosToSlider.init($('#segmented-button'), {\r\n                    size: 'medium',\r\n                    animation: true,\r\n                    reportdashboard: true\r\n                });\r\n                /**\r\n                * Duration Filter\r\n                */\r\n                flatpickr('#customrange',{\r\n                    mode: 'range',\r\n                    onOpen: function(selectedDates, dateStr,instance){\r\n                        instance.clear();\r\n                    },\r\n                    onClose: function(selectedDates, dateStr, instance) {\r\n                        $('#ls_fstartdate').val(selectedDates[0].getTime() / 1000);\r\n                        $('#ls_fenddate').val((selectedDates[1].getTime() / 1000) + (60 * 60 * 24));\r\n                        require(['block_learnerscript/reportwidget'], function(reportjs) {\r\n                            reportwidget.DashboardTiles();\r\n                            reportwidget.DashboardWidgets();\r\n                        });\r\n                    }\r\n                });\r\n                /**\r\n                 * Escape dropdown on click of window\r\n                 */\r\n                window.onclick = function(event) {\r\n                    if (!event.target.matches('.dropbtn')) {\r\n                        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\r\n                        var i;\r\n                        for (i = 0; i < dropdowns.length; i++) {\r\n                            var openDropdown = dropdowns[i];\r\n                            if ($(openDropdown).hasClass('show')) {\r\n                                $(openDropdown).toggleClass('show');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * Add reports as blocks to dashboard\r\n             * @return {[type]} [description]\r\n             */\r\n            datefilters: function(args) {\r\n                var selectedstartDate = args.startdate ? new Date(args.startdate) : 0;\r\n                var selectedendDate = args.duedate ? new Date(args.duedate) : 0;\r\n\r\n                if (selectedstartDate != 0) {\r\n                    var startOfDay = new Date(selectedstartDate);\r\n                    startOfDay.setHours(0, 0, 0);\r\n                    var lsstartdate = (startOfDay.getTime()/1000);\r\n                } else {\r\n                    var lsstartdate = 0;\r\n                } \r\n\r\n                if (selectedendDate != 0) {\r\n                    var endOfDay = new Date(selectedendDate);\r\n                    endOfDay.setHours(23, 59, 59);\r\n                    var lsduedate = (endOfDay.getTime() /1000);\r\n                } else {\r\n                    var lsduedate = 0;\r\n                }\r\n                var startdate =  args.startdate;\r\n                var duedate =  args.duedate; \r\n                var packageid =  args.packageid;\r\n                var userid =  args.userid;\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_reportdashboard_coursedatedateselect_view',\r\n                     args: {\r\n                        packageid: packageid,\r\n                        userid: userid,\r\n                        startdate: startdate,\r\n                        duedate: duedate,\r\n                        lsstartdate: lsstartdate,\r\n                        lsduedate: lsduedate\r\n                    },\r\n                }]);\r\n                promise[0].done(function(response) {\r\n                    Templates.render('block_reportdashboard/studentdashboard', response.records).done(function(html, js) {\r\n                        Templates.replaceNodeContents('#student_dashboard_container', html, js);\r\n                    });\r\n                });\r\n            },\r\n            coursetabsdata: function(args) {\r\n                        var courseid = args.courseid;\r\n                        var userid = args.userid;\r\n                        var startdate = args.startdate;\r\n                        var duedate = args.duedate;\r\n                        var lsstartdate = args.lsstartdate;\r\n                        var lsduedate = args.lsduedate;\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'block_reportdashboard_coursetabs_data',\r\n                             args: {\r\n                                courseid: courseid,\r\n                                userid: userid,\r\n                                startdate: startdate,\r\n                                duedate: duedate,\r\n                                lsstartdate: lsstartdate,\r\n                                lsduedate: lsduedate, \r\n\r\n                            },\r\n                        }]);\r\n                        promise[0].done(function(response) {\r\n                            $(\".report_courses\").val(response.records.courseid);\r\n                            $(\".report_users\").val(response.records.userid);\r\n                            Templates.render('block_reportdashboard/studentprofile/coursetabsdata', response).done(function(html, js) {\r\n                                Templates.replaceNodeContents('#myTabContent', html, js);\r\n                            });\r\n                        });\r\n            },\r\n            addblocks_to_dashboard: function() {\r\n                Str.get_string('addblockstodashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    if($('.reportslist').html().length > 0){\r\n                        console.log(\"here\");\r\n                         $('.reportslist').dialog();\r\n                    } else{\r\n\r\n                    $.urlParam = function(name){\r\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\r\n                    if (results === null || results == ' ' ){\r\n                       return null;\r\n                    } else{\r\n                       return results[1] || 0;\r\n                    }\r\n                }\r\n                var role=$.urlParam('role');\r\n                var dashboardurl=$.urlParam('dashboardurl');\r\n                var contextlevel=$.urlParam('contextlevel');\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_reportdashboard_addwidget_to_dashboard',\r\n                    args: {\r\n                        role: role,\r\n                        dashboardurl: dashboardurl,\r\n                        contextlevel: contextlevel,\r\n                    },\r\n                }]);\r\n                promise[0].done(function(response) {\r\n                    var widget_title_img = \"<img class='dialog_title_icon' alt='Add Widgets' src='\" +\r\n                        M.util.image_url(\"add_widgets_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.reportslist').dialog({\r\n                        title: 'Add widgets to dashboard',\r\n                        modal: true,\r\n                        minWidth: 700,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.reportslist').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                    $('.reportslist').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(widget_title_img + 'Add widgets to dashboard');\r\n                     resp = JSON.parse(response);\r\n                     console.log(resp);\r\n                    $('.reportslist').html(resp);\r\n                }).fail(function(ex) {\r\n                    // do something with the exception\r\n                     console.log('Add Tiles');\r\n                });\r\n            }\r\n                });\r\n            },\r\n            addtiles_to_dashboard: function() {\r\n                Str.get_string('addtilestodashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    if($('.statistics_reportslist').html().length > 0) {\r\n                        $('.statistics_reportslist').dialog();\r\n                    } else {\r\n                     $.urlParam = function(name){\r\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\r\n                    if (results === null || results == ' ' ){\r\n                       return null;\r\n                    } else{\r\n                       return results[1] || 0;\r\n                    }\r\n                }\r\n\r\n                var role=$.urlParam('role');\r\n                var dashboardurl=$.urlParam('dashboardurl');\r\n                var contextlevel=$.urlParam('contextlevel');\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_reportdashboard_addtiles_to_dashboard',\r\n                     args: {\r\n                        role: role,\r\n                        dashboardurl: dashboardurl,\r\n                        contextlevel: contextlevel,\r\n                    },\r\n                }]);\r\n                 promise[0].done(function(response) {\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add Tiles' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.statistics_reportslist').dialog({\r\n                        title: 'Add tiles to dashboard',\r\n                        modal: true,\r\n                        minWidth: 600,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.statistics_reportslist').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                    $('.statistics_reportslist').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + 'Add tiles to dashboard');\r\n                    resp = JSON.parse(response);\r\n                    $('.statistics_reportslist').html(resp);\r\n                    }).fail(function(ex) {\r\n                    // do something with the exception\r\n                     console.log('Add Tiles');\r\n                });\r\n                }\r\n                });\r\n            },\r\n            addnewdashboard: function() {\r\n                Str.get_string('addnewdashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    document.getElementById(\"id_dashboard\").value = '';\r\n                    $(\"#id_error_dashboard\").css('display', 'none');\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add new dashboard' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.newreport_dashboard').dialog({\r\n                        title: s,\r\n                        modal: true,\r\n                        minWidth: 450,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                        var Closebutton = $('.ui-icon-closethick').parent();\r\n                        $(Closebutton).attr({\r\n                            \"title\" : \"Close\"\r\n                        });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + s);\r\n                });\r\n            },\r\n            updatedashboard: function(oldname,role){\r\n                Str.get_string('updatedashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                    $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add new dashboard' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.newreport_dashboard').dialog({\r\n                        title: s,\r\n                        modal: true,\r\n                        minWidth: 450,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                        var Closebutton = $('.ui-icon-closethick').parent();\r\n                        $(Closebutton).attr({\r\n                            \"title\" : \"Close\"\r\n                        });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + s);\r\n                    document.getElementById(\"id_dashboard\").value = oldname;\r\n                    $(\"#createdashbaord_form\").submit(function(event){\r\n\r\n                        var dashboardname = $( \"#id_dashboard\" ).val();\r\n                        var name = dashboardname.trim();\r\n                        if (name == '' || name == null) {\r\n                            $( \"#id_error_dashboard\" ).css('display', 'block');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                            event.preventDefault();\r\n                            return false;\r\n                        }\r\n                        spaceexist = name.indexOf(\" \");\r\n                        if (spaceexist > 0 && spaceexist != '') {\r\n                            $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'block');\r\n                            event.preventDefault();\r\n                            return false;\r\n                        }\r\n\r\n                        var args = {};\r\n                        args.action = 'updatedashboard';\r\n                        args.role = role;\r\n                        args.oldname = oldname;\r\n                        args.newname = document.getElementById(\"id_dashboard\").value ;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            sendreportemail: function(args) {\r\n                Str.get_strings([{\r\n                    key: 'sendemail',\r\n                    component: 'block_reportdashboard'\r\n                }]).then(function(s) {\r\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\r\n                    args.nodeContent = 'sendreportemail' + args.instanceid;\r\n                    args.action = 'sendreportemail';\r\n                    args.title = s;\r\n                    AjaxForms = require('block_learnerscript/ajaxforms');\r\n                    AjaxForms.init(args, url);\r\n                });\r\n            },\r\n            reportfilter: function(args) {\r\n                var self = this;\r\n                if ($('.report_filter_' + args.instanceid).length < 1) {\r\n                    var promise = Ajax.call([{\r\n                        methodname: 'block_learnerscript_reportfilter',\r\n                        args: {\r\n                            action: 'reportfilter',\r\n                            reportid: args.reportid,\r\n                            instance: args.instanceid\r\n                        }\r\n                    }]);\r\n                    promise[0].done(function(resp) {\r\n                        $('body').append(\"<div class='report_filter_\" + args.instanceid + \"' style='display:none;'>\" + resp + \"</div>\");\r\n                        $(\"select[data-select2-ajax='1']\").each(function() {\r\n                            if (!$(this).hasClass('select2-hidden-accessible')) {\r\n                                helper.Select2Ajax({});\r\n                            }\r\n                        });\r\n                        self.reportFilterFormModal(args);\r\n                         $('.filterform'+args.instanceid+' .fitemtitle').hide();\r\n                          $('.filterform'+args.instanceid+' .felement').attr('style','margin:0');\r\n                    });\r\n                } else {\r\n                    self.reportFilterFormModal(args);\r\n                }\r\n            },\r\n            customreportfilter: function(args) {\r\n                var self = this;\r\n                if ($('.report_filter_' + args.instanceid).length < 1) {\r\n                    var promise = Ajax.call([{\r\n                        methodname: 'block_learnerscript_reportfilter',\r\n                        args: {\r\n                            action: 'reportfilter',\r\n                            reportid: args.reportid,\r\n                            instance: args.instanceid,\r\n                        }\r\n                    }]);\r\n                    promise[0].done(function(resp) {\r\n                        $('.reportsdashboardcontainer').append(\"<div class='report_filter_\" + args.instanceid + \"' style='display:none;'>\" + resp + \"</div>\");\r\n                        var chapterargs = {};\r\n                        chapterargs.action = 'chapterslist';\r\n                        chapterargs.courseid = $(\".report_courses\").val();\r\n                        senddata = JSON.stringify(chapterargs);\r\n                        var promise = ajax.call({\r\n                            args:chapterargs,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                        promise.done(function(response) {\r\n                            var template = '';\r\n                            $.each(response, function(key, value) {\r\n                                template += '<option value = ' + key + '>' + value + '</option>';\r\n                            });\r\n                            $(\"#id_filter_chapters\").html(template);\r\n                            $(\"#id_filter_chapters\").val($(' #id_filter_chapters option:eq(0)').val());\r\n                            $(\"#id_filter_chapters\").trigger('change');\r\n                        });\r\n                        $('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n\r\n                        $(\"select[data-select2-ajax='1']\").each(function() {\r\n                            if (!$(this).hasClass('select2-hidden-accessible')) {\r\n                                helper.Select2Ajax({});\r\n                            }\r\n                        });\r\n                        self.customreportFilterFormModal(args);\r\n                        $('.filterform'+args.instanceid+' .fitemtitle').hide();\r\n                        $('.filterform'+args.instanceid+' .felement').attr('style','margin:0');\r\n                    });\r\n                } else {\r\n                    self.customreportFilterFormModal(args);\r\n                }\r\n            },\r\n            customreportFilterFormModal: function (args) {\r\n                Str.get_string('reportfilters','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var title_img = \"<img class='dialog_title_icon' alt='Filter' src='\" +\r\n                        M.util.image_url(\"reportfilter\", \"block_reportdashboard\") + \"'/>\";\r\n                    $(\".report_filter_\" + args.instanceid).dialog({\r\n                        title: s,\r\n                        dialogClass: 'reportfilter-popup',\r\n                        modal: true,\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        draggable: false,\r\n                        width: 420,\r\n                        height: 'auto',\r\n                        appendTo: \"#customreports\"+args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#customreports\"+args.instanceid,\r\n                            within: \"#customreports\"+args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find(\".ui-dialog-titlebar-close\")\r\n                            .removeClass(\"ui-dialog-titlebar-close\")\r\n                            .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                            var Closebutton = $('.ui-icon-closethick').parent();\r\n                            $(Closebutton).attr({\r\n                                \"title\" : \"Close\"\r\n                            });\r\n\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find('.ui-dialog-title').html(title_img + s);\r\n\r\n                        /* Submit button */\r\n                        $(\".report_filter_\" + args.instanceid + \" form  #id_filter_apply\").click(function(e) {\r\n                            e.preventDefault();\r\n                            e.stopImmediatePropagation();\r\n                            if ($(\"#reportcontainer\" + args.instanceid).html().length > 0 ) {\r\n                                args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\r\n                            } else {\r\n                                args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\r\n                            }\r\n                            var courseid =  $(\".report_courses\").val();\r\n                            var userid =  $(\".report_users\").val() ? $(\".report_users\").val() : $(\"#id_filter_users\").val();\r\n                            var lsstartdate = $(\".lsstartdate\").val();\r\n                            var lsduedate = $(\".lsduedate\").val();\r\n\r\n                            var status =  $(\"#id_filter_status\").val();\r\n                            var chapterid =  $(\"#id_filter_chapters\").val();\r\n                            if ($(\".report_courses\").val() > 0) {\r\n                               args.filters = {filter_courses:courseid, filter_users:userid, filter_status:status, filter_startdate:lsstartdate, filter_duedate:lsduedate,\r\n                                filter_chapters:chapterid};\r\n                            }\r\n                            args.container = '#reporttype_' + args.reportid;\r\n\r\n                            require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                                reportwidget.CreateDashboardwidget({reportid: args.reportid,\r\n                                                             reporttype: args.reporttype,\r\n                                                             instanceid: args.instanceid,\r\n                                                         filters: args.filters});\r\n                                $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                            });\r\n                            $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").removeAttr('disabled');\r\n                        });\r\n                    }\r\n                });\r\n                $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").click(function(e) {\r\n                    e.preventDefault();\r\n                    $(\".filterform\" + args.reportid).trigger(\"reset\");\r\n                    $(\".filterform select[data-select2-ajax='1']\").val('0').trigger('change');\r\n                    if ($(\"#reportcontainer\" + args.instanceid).html().length > 0 ) {\r\n                        args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\r\n                    } else {\r\n                        args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\r\n                    }\r\n                    if ($(\".report_courses\").val() > 0) {\r\n                        args.courseid = $(\".report_courses\").val();\r\n                    }\r\n                    if ($(\".report_users\").val() > 0) {\r\n                        args.userid = $(\".report_users\").val();\r\n                    }\r\n                    args.filters = {filter_courses:args.courseid, filter_users:args.userid};\r\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                        reportwidget.CreateDashboardwidget({reportid: args.reportid,\r\n                            reporttype: args.reporttype,\r\n                            instanceid: args.instanceid,\r\n                            filters: args.filters});\r\n                        $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                    });\r\n                    $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                });\r\n            });\r\n            },\r\n            reportFilterFormModal: function (args) {\r\n                Str.get_string('reportfilters','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var title_img = \"<img class='dialog_title_icon' alt='Filter' src='\" +\r\n                        M.util.image_url(\"reportfilter\", \"block_reportdashboard\") + \"'/>\";\r\n                    $(\".report_filter_\" + args.instanceid).dialog({\r\n                        title: s,\r\n                        dialogClass: 'reportfilter-popup',\r\n                        modal: true,\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        draggable: false,\r\n                        width: 420,\r\n                        height: 'auto',\r\n                        appendTo: \"#inst\" + args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#inst\" + args.instanceid,\r\n                            within: \"#inst\" + args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find(\".ui-dialog-titlebar-close\")\r\n                            .removeClass(\"ui-dialog-titlebar-close\")\r\n                            .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                            var Closebutton = $('.ui-icon-closethick').parent();\r\n                            $(Closebutton).attr({\r\n                                \"title\" : \"Close\"\r\n                            });\r\n\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find('.ui-dialog-title').html(title_img + s);\r\n\r\n                        /* Submit button */\r\n                        $(\".report_filter_\" + args.instanceid + \" form  #id_filter_apply\").click(function(e) {\r\n                            e.preventDefault();\r\n                            e.stopImmediatePropagation();\r\n                            if ($(\"#reportcontainer\" + args.instanceid).html().length > 0 ) {\r\n                                args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\r\n                            } else {\r\n                                args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\r\n                            }\r\n                            args.container = '#reporttype_' + args.reportid;\r\n\r\n                            require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                                reportwidget.CreateDashboardwidget({reportid: args.reportid,\r\n                                                             reporttype: args.reporttype,\r\n                                                             instanceid: args.instanceid});\r\n                                $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                            });\r\n                            $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").removeAttr('disabled');\r\n                        });\r\n                    }\r\n                });\r\n                $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").click(function(e) {\r\n                    e.preventDefault();\r\n                    $(\".filterform\" + args.reportid).trigger(\"reset\");\r\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                        reportwidget.DashboardWidgets(args);\r\n                        $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                    });\r\n                    $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                });\r\n            });\r\n            },\r\n            DeleteWidget: function(args) {\r\n                Str.get_string('deletewidget','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var trainers = $(\"#delete_dialog\" + args.instanceid).dialog({\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        width: 460,\r\n                        height: 210,\r\n                        title: s,\r\n                        modal: true,\r\n                        // dialogClass: 'dialog_fixed',\r\n                        appendTo: \"#inst\" + args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#inst\" + args.instanceid,\r\n                            within: \"#inst\" + args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                            $(this).closest(\".ui-dialog\")\r\n                                .find(\".ui-dialog-titlebar-close\")\r\n                                .removeClass(\"ui-dialog-titlebar-close\")\r\n                                .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                                var Closebutton = $('.ui-icon-closethick').parent();\r\n                                $(Closebutton).attr({\r\n                                    \"title\" : \"Close\"\r\n                                });\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            Deletedashboard: function(args) {\r\n                Str.get_string('deletedashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var instancename = args.instance;\r\n                        $( \"#dashboard_delete_popup_\"+args.random).dialog({\r\n                            resizable: false,\r\n                            height: 150,\r\n                            width: 375,\r\n                            modal: true,\r\n                            title : s,\r\n                            open: function(event) {\r\n                            $(this).closest(\".ui-dialog\")\r\n                                .find(\".ui-dialog-titlebar-close\")\r\n                                .removeClass(\"ui-dialog-titlebar-close\")\r\n                                .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                                var Closebutton = $('.ui-icon-closethick').parent();\r\n                                $(Closebutton).attr({\r\n                                    \"title\" : \"Close\"\r\n                                });\r\n                            },\r\n                            close: function(event, ui) {\r\n                                $(this).dialog('destroy').hide();\r\n                            }\r\n                        });\r\n                });\r\n            },\r\n            /**\r\n             * Schedule report form in popup in dashboard\r\n             * @param  object args reportid\r\n             * @return Popup with schedule form\r\n             */\r\n            schreportform: function(args) {\r\n                var self = this;\r\n                Str.get_string('schedulereport','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\r\n                    args.title = s;\r\n                    args.nodeContent = 'schreportform' + args.instanceid;\r\n                    args.action = 'schreportform';\r\n                    args.courseid = $('[name=\"filter_courses\"]').val();\r\n                    AjaxForms = require('block_learnerscript/ajaxforms');\r\n                    AjaxForms.init(args, url);\r\n                });\r\n            }\r\n        };\r\n    });\r\n"],"names":["define","Ajax","Templates","report","reportwidget","schedule","helper","ajax","select2","DataTable","RadiosToSlider","flatpickr","Str","$","init","document","ajaxStop","fadeOut","Select2Ajax","change","goalid","this","val","args","senddata","JSON","stringify","call","url","M","cfg","wwwroot","done","response","template","each","key","value","html","trigger","find","text","boardid","classid","subjectid","batchid","methodname","dashboardcourseid","courseid","render","js","replaceNodeContents","on","addClass","removeClass","prop","console","log","DashboardTiles","DashboardWidgets","attr","submit","event","name","trim","css","preventDefault","spaceexist","indexOf","ui","dialog","prototype","_focusTabbable","noop","DheaderPosition","position","offset","top","action","multiple","e","parents","activityelement","instancelement","reportid","data","reporttype","instanceid","smartfilter","CourseActivities","element","reset","CreateDashboardwidget","categoryid","courseelement","closest","length","categoryCourses","size","animation","reportdashboard","mode","onOpen","selectedDates","dateStr","instance","clear","onClose","getTime","require","reportjs","window","onclick","target","matches","i","dropdowns","getElementsByClassName","openDropdown","hasClass","toggleClass","datefilters","selectedstartDate","startdate","Date","selectedendDate","duedate","startOfDay","setHours","lsstartdate","endOfDay","lsduedate","packageid","userid","records","coursetabsdata","addblocks_to_dashboard","get_string","then","s","urlParam","results","RegExp","exec","location","href","role","dashboardurl","contextlevel","widget_title_img","util","image_url","title","modal","minWidth","maxHeight","resp","parse","fail","ex","addtiles_to_dashboard","tile_title_img","addnewdashboard","getElementById","Closebutton","parent","updatedashboard","oldname","newname","sendreportemail","get_strings","component","nodeContent","AjaxForms","reportfilter","self","append","reportFilterFormModal","hide","customreportfilter","chapterargs","customreportFilterFormModal","title_img","dialogClass","resizable","autoOpen","draggable","width","height","appendTo","my","at","of","within","open","click","stopImmediatePropagation","status","chapterid","filters","filter_courses","filter_users","filter_status","filter_startdate","filter_duedate","filter_chapters","container","removeAttr","DeleteWidget","Deletedashboard","random","close","schreportform"],"mappings":"AAAAA,+CAAO,CAAC,YACA,iBACA,6BACA,mCACA,+BACA,6BACA,2BACA,8BACA,wCACA,kCACA,gCACA,WACA,SACA,WACA,sCACA,2CAEJ,SAASC,KAAMC,UAAWC,OAAQC,aAAcC,SAAUC,OAAQC,KAAMC,QAASC,UAAUC,eAAeC,UAAWC,IAAKC,SAC/G,CACHC,KAAM,WACED,EAAEE,UAAUC,UAAS,WAChBH,EAAE,WAAWI,QAAQ,WAE1BX,OAAOY,YAAY,IAEnBL,EAAE,mBAAmBM,QAAO,eACpBC,OAASP,EAAEQ,MAAMC,MACrBT,EAAE,iBAAiBS,IAAIF,YACnBG,KAAO,CACXA,OAAc,cACdA,KAAKH,OAASA,OACdI,SAAWC,KAAKC,UAAUH,MACZhB,KAAKoB,KAAK,CACpBJ,KAAKA,KACLK,IAAKC,EAAEC,IAAIC,QAAU,qCAEjBC,MAAK,SAASC,cACdC,SAAW,GACfrB,EAAEsB,KAAKF,UAAU,SAASG,IAAKC,OAC3BH,UAAY,mBAAqBE,IAAM,IAAMC,MAAQ,eAEzDxB,EAAE,oBAAoByB,KAAKJ,UAC3BrB,EAAE,oBAAoBS,IAAIT,EAAE,kCAAkCS,OAC9DT,EAAE,oBAAoB0B,QAAQ,aAElC1B,EAAE,oCAAoCyB,KAAKzB,EAAEQ,MAAMmB,KAAK,mBAAmBC,WAE/E5B,EAAE,oBAAoBM,QAAO,eACrBuB,QAAU7B,EAAEQ,MAAMC,MACtBT,EAAE,kBAAkBS,IAAIoB,aACpBnB,KAAO,CACXA,OAAc,eACdA,KAAKmB,QAAUA,QACflB,SAAWC,KAAKC,UAAUH,MACZhB,KAAKoB,KAAK,CACpBJ,KAAKA,KACLK,IAAKC,EAAEC,IAAIC,QAAU,qCAEjBC,MAAK,SAASC,cACdC,SAAW,GACfrB,EAAEsB,KAAKF,UAAU,SAASG,IAAKC,OAC3BH,UAAY,mBAAqBE,IAAM,IAAMC,MAAQ,eAEzDxB,EAAE,qBAAqByB,KAAKJ,UAC5BrB,EAAE,qBAAqBS,IAAIT,EAAE,mCAAmCS,OAChET,EAAE,qBAAqB0B,QAAQ,aAEnC1B,EAAE,oCAAoCyB,KAAKzB,EAAEQ,MAAMmB,KAAK,mBAAmBC,WAE/E5B,EAAE,qBAAqBM,QAAO,eACtBwB,QAAU9B,EAAEQ,MAAMC,MACtBT,EAAE,mBAAmBS,IAAIqB,aACrBpB,KAAO,CACXA,OAAc,gBACdA,KAAKoB,QAAUA,QACfnB,SAAWC,KAAKC,UAAUH,MACZhB,KAAKoB,KAAK,CACpBJ,KAAKA,KACLK,IAAKC,EAAEC,IAAIC,QAAU,qCAEjBC,MAAK,SAASC,cACdC,SAAW,GACfrB,EAAEsB,KAAKF,UAAU,SAASG,IAAKC,OAC3BH,UAAY,mBAAqBE,IAAM,IAAMC,MAAQ,eAEzDxB,EAAE,sBAAsByB,KAAKJ,UAC7BrB,EAAE,sBAAsBS,IAAIT,EAAE,oCAAoCS,OAClET,EAAE,sBAAsB0B,QAAQ,aAEpC1B,EAAE,oCAAoCyB,KAAKzB,EAAEQ,MAAMmB,KAAK,mBAAmBC,WAE/E5B,EAAE,sBAAsBM,QAAO,eACvByB,UAAY/B,EAAEQ,MAAMC,MACxBT,EAAE,oBAAoBS,IAAIsB,eACtBrB,KAAO,CACXA,OAAc,eACdA,KAAKqB,UAAYA,UACjBpB,SAAWC,KAAKC,UAAUH,MACZhB,KAAKoB,KAAK,CACpBJ,KAAKA,KACLK,IAAKC,EAAEC,IAAIC,QAAU,qCAEjBC,MAAK,SAASC,cACdC,SAAW,GACfrB,EAAEsB,KAAKF,UAAU,SAASG,IAAKC,OAC3BH,UAAY,mBAAqBE,IAAM,IAAMC,MAAQ,eAEzDxB,EAAE,qBAAqByB,KAAKJ,UAC5BrB,EAAE,qBAAqBS,IAAIT,EAAE,mCAAmCS,OAChET,EAAE,qBAAqB0B,QAAQ,aAEnC1B,EAAE,oCAAoCyB,KAAKzB,EAAEQ,MAAMmB,KAAK,mBAAmBC,WAE/E5B,EAAE,qBAAqBM,QAAO,eACtB0B,QAAUhC,EAAEQ,MAAMC,MACtBT,EAAE,mBAAmBS,IAAIuB,SACX5C,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,6CACXvB,KAAM,CACHsB,QAASA,YAGT,GAAGb,MAAK,SAASC,cACjBc,kBAAoBd,SAASe,SACjCnC,EAAE,mBAAmBS,IAAIyB,mBACzB7C,UAAU+C,OAAO,2CAA4ChB,UAAUD,MAAK,SAASM,KAAMY,IACvFhD,UAAUiD,oBAAoB,yBAA0Bb,KAAMY,WAG9D3B,KAAO,CACXA,OAAc,gBACdA,KAAKyB,SAAWD,kBAChBvB,SAAWC,KAAKC,UAAUH,MACZhB,KAAKoB,KAAK,CACpBJ,KAAKA,KACLK,IAAKC,EAAEC,IAAIC,QAAU,qCAEjBC,MAAK,SAASC,cACdC,SAAW,GACfrB,EAAEsB,KAAKF,UAAU,SAASG,IAAKC,OAC3BH,UAAY,mBAAqBE,IAAM,IAAMC,MAAQ,eAEzDxB,EAAE,uBAAuByB,KAAKJ,UAC9BrB,EAAE,uBAAuBS,IAAIT,EAAE,qCAAqCS,OACpET,EAAE,uBAAuB0B,QAAQ,aAErC1B,EAAE,oCAAoCyB,KAAKzB,EAAEQ,MAAMmB,KAAK,mBAAmBC,cAGnF5B,EAAEE,UAAUqC,GAAG,SAAU,oBAAoB,cACzCvC,EAAE,uBAAuBwC,SAAS,UAC9BxC,EAAE,6BAA6ByC,YAAY,UAC3CzC,EAAE,iBAAiByC,YAAY,UAC/BzC,EAAE,wBAAwBwC,SAAS,UACL,GAA3BxC,EAAEQ,MAAMkC,KAAK,WACZ1C,EAAE,uBAAuByC,YAAY,UACrCzC,EAAE,wBAAwByC,YAAY,UACtCzC,EAAE,wBAAwBwC,SAAS,UACnCxC,EAAE,iBAAiBwC,SAAS,UAC5BxC,EAAE,6BAA6BwC,SAAS,UAExCxC,EAAE,qCAAqC0C,KAAK,WAAW,OAEpD,CACH1C,EAAE,4CAA4CyC,YAAY,UAC1DzC,EAAE,6BAA6BwC,SAAS,cACpCL,SAAWnC,EAAG,aAAcS,MAClBrB,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,yCACXvB,KAAM,CACHyB,SAAUA,aAGV,GAAGhB,MAAK,SAASC,cACjBc,kBAAoBd,SAASe,SACjCnC,EAAE,mBAAmBS,IAAIyB,mBACzB7C,UAAU+C,OAAO,yCAA0ChB,UAAUD,MAAK,SAASM,KAAMY,IAAKM,QAAQC,IAAIxB,UACtG/B,UAAUiD,oBAAoB,uBAAwBb,KAAMY,cAMhFrC,EAAEE,UAAUqC,GAAG,QAAS,mBAAmB,eACnCJ,SAAWnC,EAAG,mBAAoBS,MAExBrB,KAAK0B,KAAK,CAAC,CACbmB,WAAY,yCACXvB,KAAM,CACHyB,SAAUA,aAGd,GAAGhB,MAAK,SAASC,cACjBc,kBAAoBd,SAASe,SACjCnC,EAAE,mBAAmBS,IAAIyB,mBACzB7C,UAAU+C,OAAO,yCAA0ChB,UAAUD,MAAK,SAASM,KAAMY,IAAKM,QAAQC,IAAIxB,UACtG/B,UAAUiD,oBAAoB,uBAAwBb,KAAMY,aAK5ErC,EAAEE,UAAUqC,GAAG,QAAS,iBAAiB,eACjCJ,SAAWnC,EAAG,mBAAoBS,MAExBrB,KAAK0B,KAAK,CAAC,CACbmB,WAAY,uCACXvB,KAAM,CACHyB,SAAUA,aAGd,GAAGhB,MAAK,SAASC,cACjBc,kBAAoBd,SAASe,SACjCnC,EAAE,mBAAmBS,IAAIyB,mBACzB7C,UAAU+C,OAAO,uCAAwChB,UAAUD,MAAK,SAASM,KAAMY,IAAKM,QAAQC,IAAIxB,UACpG/B,UAAUiD,oBAAoB,qBAAsBb,KAAMY,aAK1ErC,EAAEE,UAAUqC,GAAG,QAAS,sBAAsB,eACtCJ,SAAWnC,EAAG,mBAAoBS,MACxBrB,KAAK0B,KAAK,CAAC,CACbmB,WAAY,4CACXvB,KAAM,CACHyB,SAAUA,aAGd,GAAGhB,MAAK,SAASC,cACjBc,kBAAoBd,SAASe,SACjCnC,EAAE,mBAAmBS,IAAIyB,mBACzB7C,UAAU+C,OAAO,4CAA6ChB,UAAUD,MAAK,SAASM,KAAMY,IAAKM,QAAQC,IAAIxB,UACzG/B,UAAUiD,oBAAoB,0BAA2Bb,KAAMY,aAK/ErC,EAAEE,UAAUqC,GAAG,QAAS,mBAAmB,eACnCJ,SAAWnC,EAAG,mBAAoBS,MACxBrB,KAAK0B,KAAK,CAAC,CACbmB,WAAY,yCACXvB,KAAM,CACHyB,SAAUA,aAGd,GAAGhB,MAAK,SAASC,cACjBc,kBAAoBd,SAASe,SACjCnC,EAAE,mBAAmBS,IAAIyB,mBACzB7C,UAAU+C,OAAO,yCAA0ChB,UAAUD,MAAK,SAASM,KAAMY,IAAKM,QAAQC,IAAIxB,UACtG/B,UAAUiD,oBAAoB,uBAAwBb,KAAMY,aAI5ErC,EAAEE,UAAUqC,GAAG,QAAS,eAAe,eAC/BJ,SAAWnC,EAAG,mBAAoBS,MACxBrB,KAAK0B,KAAK,CAAC,CACbmB,WAAY,qCACXvB,KAAM,CACHyB,SAAUA,aAGd,GAAGhB,MAAK,SAASC,cACjBc,kBAAoBd,SAASe,SACjCnC,EAAE,mBAAmBS,IAAIyB,mBACzB7C,UAAU+C,OAAO,qCAAsChB,UAAUD,MAAK,SAASM,KAAMY,IAAKM,QAAQC,IAAIxB,UAClG/B,UAAUiD,oBAAoB,mBAAoBb,KAAMY,aAKxErC,EAAE,qBAAqBM,QAAO,eACtB6B,SAAWnC,EAAEQ,MAAMC,MACvBT,EAAE,mBAAmBS,IAAI0B,UACzB5C,aAAasD,iBACbtD,aAAauD,mBACb9C,EAAE,aAAasB,MAAK,WACJtB,EAAEQ,MAAMuC,KAAK,cAIjC/C,EAAG,yBAA0BgD,QAAO,SAAUC,WAEtCC,KADgBlD,EAAG,iBAAkBS,MAChB0C,OACd,IAARD,MAAsB,MAARA,OACblD,EAAG,uBAAwBoD,IAAI,UAAW,SAC1CpD,EAAG,gCAAiCoD,IAAI,UAAW,QACnDH,MAAMI,kBAEVC,WAAaJ,KAAKK,QAAQ,KACvBD,WAAa,GAAmB,IAAdA,aACjBtD,EAAG,uBAAwBoD,IAAI,UAAW,QAC1CpD,EAAG,gCAAiCoD,IAAI,UAAW,SACnDH,MAAMI,qBAIlBrD,EAAEwD,GAAGC,OAAOC,UAAUC,eAAiB3D,EAAE4D,SACrCC,gBAAkB7D,EAAE,qBAAqB8D,WAC7C9D,EAAE,YAAY+D,OAAO,CAACC,IAAK,IAC3BhE,EAAE,gBAAgB+D,OAAO,CAACC,IAAKH,gBAAgBG,MAI/ChE,EAAE,4BAA4BL,UAC9BF,OAAOY,YAAY,CACf4D,OAAQ,aACRC,UAAU,IAKdlE,EAAEE,UAAUqC,GAAG,QAAQ,gCAA+B,SAAS4B,GAC3DnE,EAAEQ,MAAM4D,QAAQ,UAAU1C,QAAQ,aAC9B2C,gBAAkBrE,EAAEQ,MAAM4D,QAAQ,UAAUzC,KAAK,yBACjD2C,eAAiBtE,EAAEQ,MAAM4D,QAAQ,0BAA0BzC,KAAK,+BAChE4C,SAAWD,eAAeE,KAAK,YAC/BC,WAAaH,eAAeE,KAAK,cACjCE,WAAaJ,eAAeE,KAAK,iBACnBxE,EAAEQ,MAAM4D,QAAQ,UAAUzC,KAAK,oBACjDgD,YAAYC,iBAAiB,CAAEzC,SAAU,EAAE0C,QAASR,kBACpDrE,EAAE,6CAA6CS,IAAI,KAAKiB,QAAQ,UAChE1B,EAAE,eAAe,GAAG8E,QACpB9E,EAAE,gCAAgC+C,KAAK,WAAY,YACnDxD,aAAawF,sBAAsB,CAACR,SAAUA,SAAUE,WAAYA,WAAYC,WAAYA,gBAEhG1E,EAAEE,UAAUqC,GAAG,SAAU,0CAA0C,eAC3DyC,WAAaxE,KAAKgB,MAClByD,cAAgBjF,EAAEQ,MAAM0E,QAAQ,UAAUvD,KAAK,sBACxB,GAAxBsD,cAAcE,QACbR,YAAYS,gBAAgB,CAAEJ,WAAYA,WAAYH,QAASI,mBAGvEjF,EAAEE,UAAUqC,GAAG,SAAU,iCAAiC,eAClDJ,SAAW3B,KAAKgB,MAChB6C,gBAAkBrE,EAAEQ,MAAM0E,QAAQ,UAAUvD,KAAK,yBACnC3B,EAAEQ,MAAM0E,QAAQ,UAAUvD,KAAK,oBACpB,GAA1B0C,gBAAgBc,QACfR,YAAYC,iBAAiB,CAAEzC,SAAUA,SAAU0C,QAASR,qBAOpExE,eAAeI,KAAKD,EAAE,qBAAsB,CACxCqF,KAAM,SACNC,WAAW,EACXC,iBAAiB,IAKrBzF,UAAU,eAAe,CACrB0F,KAAM,QACNC,OAAQ,SAASC,cAAeC,QAAQC,UACpCA,SAASC,SAEbC,QAAS,SAASJ,cAAeC,QAASC,UACtC5F,EAAE,kBAAkBS,IAAIiF,cAAc,GAAGK,UAAY,KACrD/F,EAAE,gBAAgBS,IAAKiF,cAAc,GAAGK,UAAY,IAAS,OAC7DC,QAAQ,CAAC,qCAAqC,SAASC,UACnD1G,aAAasD,iBACbtD,aAAauD,yBAOzBoD,OAAOC,QAAU,SAASlD,WACjBA,MAAMmD,OAAOC,QAAQ,YAAa,KAE/BC,EADAC,UAAYrG,SAASsG,uBAAuB,wBAE3CF,EAAI,EAAGA,EAAIC,UAAUpB,OAAQmB,IAAK,KAC/BG,aAAeF,UAAUD,GACzBtG,EAAEyG,cAAcC,SAAS,SACzB1G,EAAEyG,cAAcE,YAAY,YAUhDC,YAAa,SAASlG,UACdmG,kBAAoBnG,KAAKoG,UAAY,IAAIC,KAAKrG,KAAKoG,WAAa,EAChEE,gBAAkBtG,KAAKuG,QAAU,IAAIF,KAAKrG,KAAKuG,SAAW,KAErC,GAArBJ,kBAAwB,KACpBK,WAAa,IAAIH,KAAKF,mBAC1BK,WAAWC,SAAS,EAAG,EAAG,OACtBC,YAAeF,WAAWnB,UAAU,SAEpCqB,YAAc,KAGC,GAAnBJ,gBAAsB,KAClBK,SAAW,IAAIN,KAAKC,iBACxBK,SAASF,SAAS,GAAI,GAAI,QACtBG,UAAaD,SAAStB,UAAW,SAEjCuB,UAAY,MAEhBR,UAAapG,KAAKoG,UAClBG,QAAWvG,KAAKuG,QAChBM,UAAa7G,KAAK6G,UAClBC,OAAU9G,KAAK8G,OACLpI,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,kDACXvB,KAAM,CACH6G,UAAWA,UACXC,OAAQA,OACRV,UAAWA,UACXG,QAASA,QACTG,YAAaA,YACbE,UAAWA,cAGX,GAAGnG,MAAK,SAASC,UACrB/B,UAAU+C,OAAO,yCAA0ChB,SAASqG,SAAStG,MAAK,SAASM,KAAMY,IAC7FhD,UAAUiD,oBAAoB,+BAAgCb,KAAMY,WAIhFqF,eAAgB,SAAShH,UACTyB,SAAWzB,KAAKyB,SAChBqF,OAAS9G,KAAK8G,OACdV,UAAYpG,KAAKoG,UACjBG,QAAUvG,KAAKuG,QACfG,YAAc1G,KAAK0G,YACnBE,UAAY5G,KAAK4G,UACPlI,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,wCACXvB,KAAM,CACHyB,SAAUA,SACVqF,OAAQA,OACRV,UAAWA,UACXG,QAASA,QACTG,YAAaA,YACbE,UAAWA,cAIX,GAAGnG,MAAK,SAASC,UACrBpB,EAAE,mBAAmBS,IAAIW,SAASqG,QAAQtF,UAC1CnC,EAAE,iBAAiBS,IAAIW,SAASqG,QAAQD,QACxCnI,UAAU+C,OAAO,sDAAuDhB,UAAUD,MAAK,SAASM,KAAMY,IAClGhD,UAAUiD,oBAAoB,gBAAiBb,KAAMY,WAIzEsF,uBAAwB,WACpB5H,IAAI6H,WAAW,uBAAuB,yBACpCC,MAAK,SAASC,MACT9H,EAAE,gBAAgByB,OAAO0D,OAAS,EACjCxC,QAAQC,IAAI,QACX5C,EAAE,gBAAgByD,aACjB,CAENzD,EAAE+H,SAAW,SAAS7E,UAClB8E,QAAU,IAAIC,OAAO,OAAU/E,KAAO,aAAagF,KAAKhC,OAAOiC,SAASC,aAC5D,OAAZJ,SAA+B,KAAXA,QACd,KAEAA,QAAQ,IAAM,OAGxBK,KAAKrI,EAAE+H,SAAS,QAChBO,aAAatI,EAAE+H,SAAS,gBACxBQ,aAAavI,EAAE+H,SAAS,gBACd3I,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,+CACZvB,KAAM,CACF2H,KAAMA,KACNC,aAAcA,aACdC,aAAcA,iBAGd,GAAGpH,MAAK,SAASC,cACjBoH,iBAAmB,yDACnBxH,EAAEyH,KAAKC,UAAU,mBAAoB,yBAA2B,MACpE1I,EAAE,gBAAgByD,OAAO,CACrBkF,MAAO,2BACPC,OAAO,EACPC,SAAU,IACVC,UAAW,MAEf9I,EAAE,gBAAgBkF,QAAQ,cACrBvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,2EACVzB,EAAE,gBAAgBkF,QAAQ,cAAcvD,KAAK,oBACxCF,KAAK+G,iBAAmB,4BAC5BO,KAAOnI,KAAKoI,MAAM5H,UAClBuB,QAAQC,IAAImG,MACb/I,EAAE,gBAAgByB,KAAKsH,SACxBE,MAAK,SAASC,IAEZvG,QAAQC,IAAI,qBAKrBuG,sBAAuB,WACnBpJ,IAAI6H,WAAW,sBAAsB,yBACnCC,MAAK,SAASC,MACT9H,EAAE,2BAA2ByB,OAAO0D,OAAS,EAC5CnF,EAAE,2BAA2ByD,aAC1B,CACNzD,EAAE+H,SAAW,SAAS7E,UACnB8E,QAAU,IAAIC,OAAO,OAAU/E,KAAO,aAAagF,KAAKhC,OAAOiC,SAASC,aAC5D,OAAZJ,SAA+B,KAAXA,QACd,KAEAA,QAAQ,IAAM,OAIxBK,KAAKrI,EAAE+H,SAAS,QAChBO,aAAatI,EAAE+H,SAAS,gBACxBQ,aAAavI,EAAE+H,SAAS,gBACd3I,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,8CACXvB,KAAM,CACH2H,KAAMA,KACNC,aAAcA,aACdC,aAAcA,iBAGb,GAAGpH,MAAK,SAASC,cAClBgI,eAAiB,uDACjBpI,EAAEyH,KAAKC,UAAU,iBAAkB,yBAA2B,MAClE1I,EAAE,2BAA2ByD,OAAO,CAChCkF,MAAO,yBACPC,OAAO,EACPC,SAAU,IACVC,UAAW,MAEf9I,EAAE,2BAA2BkF,QAAQ,cAChCvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,2EACVzB,EAAE,2BAA2BkF,QAAQ,cAAcvD,KAAK,oBACnDF,KAAK2H,eAAiB,0BAC3BL,KAAOnI,KAAKoI,MAAM5H,UAClBpB,EAAE,2BAA2ByB,KAAKsH,SAC/BE,MAAK,SAASC,IAEhBvG,QAAQC,IAAI,qBAKrByG,gBAAiB,WACbtJ,IAAI6H,WAAW,kBAAkB,yBAC/BC,MAAK,SAASC,GACZ5H,SAASoJ,eAAe,gBAAgB9H,MAAQ,GAChDxB,EAAE,uBAAuBoD,IAAI,UAAW,YACpCgG,eAAiB,+DACjBpI,EAAEyH,KAAKC,UAAU,iBAAkB,yBAA2B,MAClE1I,EAAE,wBAAwByD,OAAO,CAC7BkF,MAAOb,EACPc,OAAO,EACPC,SAAU,IACVC,UAAW,MAEf9I,EAAE,wBAAwBkF,QAAQ,cAC7BvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,+EACF8H,YAAcvJ,EAAE,uBAAuBwJ,SAC3CxJ,EAAEuJ,aAAaxG,KAAK,OACN,UAElB/C,EAAE,wBAAwBkF,QAAQ,cAAcvD,KAAK,oBAChDF,KAAK2H,eAAiBtB,OAGnC2B,gBAAiB,SAASC,QAAQrB,MAC9BtI,IAAI6H,WAAW,kBAAkB,yBAC/BC,MAAK,SAASC,GACZ9H,EAAG,uBAAwBoD,IAAI,UAAW,QAC1CpD,EAAG,gCAAiCoD,IAAI,UAAW,YAC/CgG,eAAiB,+DACjBpI,EAAEyH,KAAKC,UAAU,iBAAkB,yBAA2B,MAClE1I,EAAE,wBAAwByD,OAAO,CAC7BkF,MAAOb,EACPc,OAAO,EACPC,SAAU,IACVC,UAAW,MAEf9I,EAAE,wBAAwBkF,QAAQ,cAC7BvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,+EACF8H,YAAcvJ,EAAE,uBAAuBwJ,SAC3CxJ,EAAEuJ,aAAaxG,KAAK,OACN,UAElB/C,EAAE,wBAAwBkF,QAAQ,cAAcvD,KAAK,oBAChDF,KAAK2H,eAAiBtB,GAC3B5H,SAASoJ,eAAe,gBAAgB9H,MAAQkI,QAChD1J,EAAE,yBAAyBgD,QAAO,SAASC,WAGnCC,KADgBlD,EAAG,iBAAkBS,MAChB0C,UACb,IAARD,MAAsB,MAARA,YACdlD,EAAG,uBAAwBoD,IAAI,UAAW,SAC1CpD,EAAG,gCAAiCoD,IAAI,UAAW,QACnDH,MAAMI,kBACC,KAEXC,WAAaJ,KAAKK,QAAQ,KACtBD,WAAa,GAAmB,IAAdA,kBAClBtD,EAAG,uBAAwBoD,IAAI,UAAW,QAC1CpD,EAAG,gCAAiCoD,IAAI,UAAW,SACnDH,MAAMI,kBACC,MAGP3C,KAAO,CACXA,OAAc,mBACdA,KAAK2H,KAAOA,KACZ3H,KAAKgJ,QAAUA,QACfhJ,KAAKiJ,QAAUzJ,SAASoJ,eAAe,gBAAgB9H,MACvDb,SAAWC,KAAKC,UAAUH,MACZhB,KAAKoB,KAAK,CACpBJ,KAAKA,KACLK,IAAKC,EAAEC,IAAIC,QAAU,4CAKrC0I,gBAAiB,SAASlJ,MACtBX,IAAI8J,YAAY,CAAC,CACbtI,IAAK,YACLuI,UAAW,2BACXjC,MAAK,SAASC,OACV/G,IAAMC,EAAEC,IAAIC,QAAU,iCAC1BR,KAAKqJ,YAAc,kBAAoBrJ,KAAKgE,WAC5ChE,KAAKuD,OAAS,kBACdvD,KAAKiI,MAAQb,EACbkC,UAAYhE,QAAQ,iCACpBgE,UAAU/J,KAAKS,KAAMK,SAG7BkJ,aAAc,SAASvJ,UACfwJ,KAAO1J,KACPR,EAAE,kBAAoBU,KAAKgE,YAAYS,OAAS,EAClC/F,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,mCACZvB,KAAM,CACFuD,OAAQ,eACRM,SAAU7D,KAAK6D,SACfqB,SAAUlF,KAAKgE,eAGf,GAAGvD,MAAK,SAAS4H,MACrB/I,EAAE,QAAQmK,OAAO,6BAA+BzJ,KAAKgE,WAAa,2BAA6BqE,KAAO,UACtG/I,EAAE,iCAAiCsB,MAAK,WAC/BtB,EAAEQ,MAAMkG,SAAS,8BAClBjH,OAAOY,YAAY,OAG3B6J,KAAKE,sBAAsB1J,MAC1BV,EAAE,cAAcU,KAAKgE,WAAW,gBAAgB2F,OAC/CrK,EAAE,cAAcU,KAAKgE,WAAW,cAAc3B,KAAK,QAAQ,eAGjEmH,KAAKE,sBAAsB1J,OAGnC4J,mBAAoB,SAAS5J,UACrBwJ,KAAO1J,KACPR,EAAE,kBAAoBU,KAAKgE,YAAYS,OAAS,EAClC/F,KAAK0B,KAAK,CAAC,CACrBmB,WAAY,mCACZvB,KAAM,CACFuD,OAAQ,eACRM,SAAU7D,KAAK6D,SACfqB,SAAUlF,KAAKgE,eAGf,GAAGvD,MAAK,SAAS4H,MACrB/I,EAAE,8BAA8BmK,OAAO,6BAA+BzJ,KAAKgE,WAAa,2BAA6BqE,KAAO,cACxHwB,YAAc,CAClBA,OAAqB,gBACrBA,YAAYpI,SAAWnC,EAAE,mBAAmBS,MAC5CE,SAAWC,KAAKC,UAAU0J,aACZ7K,KAAKoB,KAAK,CACpBJ,KAAK6J,YACLxJ,IAAKC,EAAEC,IAAIC,QAAU,qCAEjBC,MAAK,SAASC,cACdC,SAAW,GACfrB,EAAEsB,KAAKF,UAAU,SAASG,IAAKC,OAC3BH,UAAY,mBAAqBE,IAAM,IAAMC,MAAQ,eAEzDxB,EAAE,uBAAuByB,KAAKJ,UAC9BrB,EAAE,uBAAuBS,IAAIT,EAAE,qCAAqCS,OACpET,EAAE,uBAAuB0B,QAAQ,aAErC1B,EAAE,oCAAoCyB,KAAKzB,EAAEQ,MAAMmB,KAAK,mBAAmBC,QAE3E5B,EAAE,iCAAiCsB,MAAK,WAC/BtB,EAAEQ,MAAMkG,SAAS,8BAClBjH,OAAOY,YAAY,OAG3B6J,KAAKM,4BAA4B9J,MACjCV,EAAE,cAAcU,KAAKgE,WAAW,gBAAgB2F,OAChDrK,EAAE,cAAcU,KAAKgE,WAAW,cAAc3B,KAAK,QAAQ,eAG/DmH,KAAKM,4BAA4B9J,OAGzC8J,4BAA6B,SAAU9J,MACnCX,IAAI6H,WAAW,gBAAgB,yBAC7BC,MAAK,SAASC,OACR2C,UAAY,oDACZzJ,EAAEyH,KAAKC,UAAU,eAAgB,yBAA2B,MAChE1I,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,CAC1CkF,MAAOb,EACP4C,YAAa,qBACb9B,OAAO,EACP+B,WAAW,EACXC,UAAU,EACVC,WAAW,EACXC,MAAO,IACPC,OAAQ,OACRC,SAAU,iBAAiBtK,KAAKgE,WAChCZ,SAAU,CACNmH,GAAI,SACJC,GAAI,SACJC,GAAI,iBAAiBzK,KAAKgE,WAC1B0G,OAAQ,iBAAiB1K,KAAKgE,YAElC2G,KAAM,SAASpI,MAAOO,IACtBxD,EAAEQ,MAAM0E,QAAQ,cACXvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,+EACF8H,YAAcvJ,EAAE,uBAAuBwJ,SAC3CxJ,EAAEuJ,aAAaxG,KAAK,OACN,UAGlB/C,EAAEQ,MAAM0E,QAAQ,cACXvD,KAAK,oBAAoBF,KAAKgJ,UAAY3C,GAG/C9H,EAAE,kBAAoBU,KAAKgE,WAAa,2BAA2B4G,OAAM,SAASnH,GAC9EA,EAAEd,iBACFc,EAAEoH,2BACEvL,EAAE,mBAAqBU,KAAKgE,YAAYjD,OAAO0D,OAAS,EACxDzE,KAAK+D,WAAazE,EAAE,mBAAqBU,KAAKgE,YAAYF,KAAK,cAE/D9D,KAAK+D,WAAazE,EAAE,uBAAyBU,KAAKgE,YAAYF,KAAK,kBAEnErC,SAAYnC,EAAE,mBAAmBS,MACjC+G,OAAUxH,EAAE,iBAAiBS,MAAQT,EAAE,iBAAiBS,MAAQT,EAAE,oBAAoBS,MACtF2G,YAAcpH,EAAE,gBAAgBS,MAChC6G,UAAYtH,EAAE,cAAcS,MAE5B+K,OAAUxL,EAAE,qBAAqBS,MACjCgL,UAAazL,EAAE,uBAAuBS,MACtCT,EAAE,mBAAmBS,MAAQ,IAC9BC,KAAKgL,QAAU,CAACC,eAAexJ,SAAUyJ,aAAapE,OAAQqE,cAAcL,OAAQM,iBAAiB1E,YAAa2E,eAAezE,UAChI0E,gBAAgBP,YAEpB/K,KAAKuL,UAAY,eAAiBvL,KAAK6D,SAEvCyB,QAAQ,CAAC,qCAAqC,SAASzG,cACnDA,aAAawF,sBAAsB,CAACR,SAAU7D,KAAK6D,SACtBE,WAAY/D,KAAK+D,WACjBC,WAAYhE,KAAKgE,WACrBgH,QAAShL,KAAKgL,UACvC1L,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,YAElDzD,EAAE,kBAAoBU,KAAKgE,WAAa,0BAA0BwH,WAAW,kBAIzFlM,EAAE,kBAAoBU,KAAKgE,WAAa,0BAA0B4G,OAAM,SAASnH,GAC7EA,EAAEd,iBACFrD,EAAE,cAAgBU,KAAK6D,UAAU7C,QAAQ,SACzC1B,EAAE,6CAA6CS,IAAI,KAAKiB,QAAQ,UAC5D1B,EAAE,mBAAqBU,KAAKgE,YAAYjD,OAAO0D,OAAS,EACxDzE,KAAK+D,WAAazE,EAAE,mBAAqBU,KAAKgE,YAAYF,KAAK,cAE/D9D,KAAK+D,WAAazE,EAAE,uBAAyBU,KAAKgE,YAAYF,KAAK,cAEnExE,EAAE,mBAAmBS,MAAQ,IAC7BC,KAAKyB,SAAWnC,EAAE,mBAAmBS,OAErCT,EAAE,iBAAiBS,MAAQ,IAC3BC,KAAK8G,OAASxH,EAAE,iBAAiBS,OAErCC,KAAKgL,QAAU,CAACC,eAAejL,KAAKyB,SAAUyJ,aAAalL,KAAK8G,QAChExB,QAAQ,CAAC,qCAAqC,SAASzG,cACnDA,aAAawF,sBAAsB,CAACR,SAAU7D,KAAK6D,SAC/CE,WAAY/D,KAAK+D,WACjBC,WAAYhE,KAAKgE,WACjBgH,QAAShL,KAAKgL,UAClB1L,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,YAElDzD,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,gBAItD2G,sBAAuB,SAAU1J,MAC7BX,IAAI6H,WAAW,gBAAgB,yBAC7BC,MAAK,SAASC,OACR2C,UAAY,oDACZzJ,EAAEyH,KAAKC,UAAU,eAAgB,yBAA2B,MAChE1I,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,CAC1CkF,MAAOb,EACP4C,YAAa,qBACb9B,OAAO,EACP+B,WAAW,EACXC,UAAU,EACVC,WAAW,EACXC,MAAO,IACPC,OAAQ,OACRC,SAAU,QAAUtK,KAAKgE,WACzBZ,SAAU,CACNmH,GAAI,SACJC,GAAI,SACJC,GAAI,QAAUzK,KAAKgE,WACnB0G,OAAQ,QAAU1K,KAAKgE,YAE3B2G,KAAM,SAASpI,MAAOO,IACtBxD,EAAEQ,MAAM0E,QAAQ,cACXvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,+EACF8H,YAAcvJ,EAAE,uBAAuBwJ,SAC3CxJ,EAAEuJ,aAAaxG,KAAK,OACN,UAGlB/C,EAAEQ,MAAM0E,QAAQ,cACXvD,KAAK,oBAAoBF,KAAKgJ,UAAY3C,GAG/C9H,EAAE,kBAAoBU,KAAKgE,WAAa,2BAA2B4G,OAAM,SAASnH,GAC9EA,EAAEd,iBACFc,EAAEoH,2BACEvL,EAAE,mBAAqBU,KAAKgE,YAAYjD,OAAO0D,OAAS,EACxDzE,KAAK+D,WAAazE,EAAE,mBAAqBU,KAAKgE,YAAYF,KAAK,cAE/D9D,KAAK+D,WAAazE,EAAE,uBAAyBU,KAAKgE,YAAYF,KAAK,cAEvE9D,KAAKuL,UAAY,eAAiBvL,KAAK6D,SAEvCyB,QAAQ,CAAC,qCAAqC,SAASzG,cACnDA,aAAawF,sBAAsB,CAACR,SAAU7D,KAAK6D,SACtBE,WAAY/D,KAAK+D,WACjBC,WAAYhE,KAAKgE,aAC9C1E,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,YAElDzD,EAAE,kBAAoBU,KAAKgE,WAAa,0BAA0BwH,WAAW,kBAIzFlM,EAAE,kBAAoBU,KAAKgE,WAAa,0BAA0B4G,OAAM,SAASnH,GAC7EA,EAAEd,iBACFrD,EAAE,cAAgBU,KAAK6D,UAAU7C,QAAQ,SACzCsE,QAAQ,CAAC,qCAAqC,SAASzG,cACnDA,aAAauD,iBAAiBpC,MAC9BV,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,YAElDzD,EAAE,kBAAoBU,KAAKgE,YAAYjB,OAAO,gBAItD0I,aAAc,SAASzL,MACnBX,IAAI6H,WAAW,eAAe,yBAC5BC,MAAK,SAASC,GACG9H,EAAE,iBAAmBU,KAAKgE,YAAYjB,OAAO,CACxDkH,WAAW,EACXC,UAAU,EACVE,MAAO,IACPC,OAAQ,IACRpC,MAAOb,EACPc,OAAO,EAEPoC,SAAU,QAAUtK,KAAKgE,WACzBZ,SAAU,CACNmH,GAAI,SACJC,GAAI,SACJC,GAAI,QAAUzK,KAAKgE,WACnB0G,OAAQ,QAAU1K,KAAKgE,YAE3B2G,KAAM,SAASpI,MAAOO,IAClBxD,EAAEQ,MAAM0E,QAAQ,cACXvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,+EACF8H,YAAcvJ,EAAE,uBAAuBwJ,SAC3CxJ,EAAEuJ,aAAaxG,KAAK,OACN,iBAMlCqJ,gBAAiB,SAAS1L,MACtBX,IAAI6H,WAAW,kBAAkB,yBAC/BC,MAAK,SAASC,GACOpH,KAAKkF,SACpB5F,EAAG,2BAA2BU,KAAK2L,QAAQ5I,OAAO,CAC9CkH,WAAW,EACXI,OAAQ,IACRD,MAAO,IACPlC,OAAO,EACPD,MAAQb,EACRuD,KAAM,SAASpI,OACfjD,EAAEQ,MAAM0E,QAAQ,cACXvD,KAAK,6BACLc,YAAY,4BACZhB,KAAK,+EACF8H,YAAcvJ,EAAE,uBAAuBwJ,SAC3CxJ,EAAEuJ,aAAaxG,KAAK,OACN,WAGlBuJ,MAAO,SAASrJ,MAAOO,IACnBxD,EAAEQ,MAAMiD,OAAO,WAAW4G,cAU9CkC,cAAe,SAAS7L,MAEpBX,IAAI6H,WAAW,iBAAiB,yBAC9BC,MAAK,SAASC,OACR/G,IAAMC,EAAEC,IAAIC,QAAU,iCAC1BR,KAAKiI,MAAQb,EACbpH,KAAKqJ,YAAc,gBAAkBrJ,KAAKgE,WAC1ChE,KAAKuD,OAAS,gBACdvD,KAAKyB,SAAWnC,EAAE,2BAA2BS,MAC7CuJ,UAAYhE,QAAQ,iCACpBgE,UAAU/J,KAAKS,KAAMK"}